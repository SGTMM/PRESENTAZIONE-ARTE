var e,t,n,i,o,r,a,d,s,w,c,l={left:0,right:0,forward:0,back:0},h=0,p=0,E=!1;window.addEventListener("load",function(){setTimeout(()=>{new GLTFLoader().load("scene (7).glb",function(H){console.log(r=H.scene),E=!0,function(){if(E){window.addEventListener("keydown",u,!1),window.addEventListener("keyup",z,!1),a=new THREE.Scene,(s=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3)).updateProjectionMatrix(),s.position.y+=7,(d=new THREE.WebGLRenderer({antialias:!0,alpha:!0})).setSize(window.innerWidth,window.innerHeight),w=new OrbitControls(s,d.domElement),window.addEventListener("resize",function(){s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight)}),document.body.appendChild(d.domElement),e=new THREE.Clock,o=new THREE.Vector3,i=new THREE.Vector3,t=new THREE.Vector3;var H=new THREE.AmbientLight(16777215,5);a.add(H),a.add(r);let E=new THREE.BoxGeometry(.2,.2,.2),T=new THREE.MeshBasicMaterial({color:65280});c=new THREE.Mesh(E,T),a.add(c),c.position.y=7,function r(){var E,u;e.getDelta(),s.getWorldDirection(i),p=l.right-l.left,h=l.forward-l.back,o.x=i.x/2.5,o.z=i.z/2.5,n=0,1===h?1===p?n=-Math.PI/4:-1===p&&(n=Math.PI/4):-1===h?n=1===p?-Math.PI/4-Math.PI/2:-1===p?Math.PI/4+Math.PI/2:Math.PI:1===p?n=-Math.PI/2:-1===p&&(n=Math.PI/2),o.applyAxisAngle(new THREE.Vector3(0,1,0),n),(0!==h||0!==p)&&(s.position.x+=o.x,s.position.z+=o.z,c.position.x+=o.x,c.position.z+=o.z),w.target.copy(c.position),b=parseInt(f.GetX()),g=parseInt(f.GetY()),b>=75?(l.right=1,l.left=0):b<=-75?(l.right=0,l.left=1):(l.right=0,l.left=0),g>=75?(l.forward=1,l.back=0):g<=-75?(l.forward=0,l.back=1):(l.forward=0,l.back=0),(E=s.position.x,u=s.position.z,!(E<-76.21540612288777)&&!(E>203.17769907829856)&&!(u<-8.855059994891958)&&!(u>26.63528778585343)&&function(e,t){let n=.2560550315998711*(t- -8.791333228457304)-(e- -76.21540612288777)*35.42662101431073,i=278.53315190829625*(t-26.63528778585343)- -((e- -75.9593510912879)*.1040477859432336),o=.6038982612901975*(t-26.531239999910195)- -((e-202.57380081700836)*35.38629999480215),r=-279.39310520118636*(t- -8.855059994891958)-(e-203.17769907829856)*.06372676643465347;return n>=0&&i>=0&&o>=0&&r>=0||n<=0&&i<=0&&o<=0&&r<=0}(E,u))?(k=s.position.x,x=s.position.z,t.x=c.position.x,t.z=c.position.z):(s.position.x=k,s.position.z=x,c.position.x=t.x,c.position.z=t.z),w.update(),d.render(a,s),requestAnimationFrame(r)}()}}()})},3e3)});var f=new JoyStick("joyDiv",{title:"joystick",internalFillColor:"#00AA00",internalLineWidth:2,internalStrokeColor:"#003300",externalLineWidth:2,externalStrokeColor:"#008000",autoReturnToCenter:!0}),k=0,x=0,b=0,g=0;function u(e){switch(e.keyCode){case 87:l.forward=1;break;case 83:l.back=1;break;case 65:l.left=1;break;case 68:l.right=1}}function z(e){switch(e.keyCode){case 87:l.forward=0;break;case 83:l.back=0;break;case 65:l.left=0;break;case 68:l.right=0}}
//# sourceMappingURL=index.0e949991.js.map
