let t={xPosition:0,yPosition:0,x:0,y:0,cardinalDirection:"C"};var e,i,n,o,r,a,d,s,c,h,l,f={left:0,right:0,forward:0,back:0},u=0,w=0,p=!1;window.addEventListener("load",function(){setTimeout(()=>{new GLTFLoader().load("scene (7).glb",function(t){console.log(a=t.scene),p=!0,function(){if(p){window.addEventListener("keydown",k,!1),window.addEventListener("keyup",m,!1),d=new THREE.Scene,(c=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3)).updateProjectionMatrix(),c.position.y+=7,(s=new THREE.WebGLRenderer({antialias:!0,alpha:!0})).setSize(window.innerWidth,window.innerHeight),h=new OrbitControls(c,s.domElement),window.addEventListener("resize",function(){c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)}),document.body.appendChild(s.domElement),e=new THREE.Clock,r=new THREE.Vector3,o=new THREE.Vector3,i=new THREE.Vector3;var t=new THREE.AmbientLight(16777215,5);d.add(t),d.add(a);let p=new THREE.BoxGeometry(.2,.2,.2),y=new THREE.MeshBasicMaterial({color:65280});l=new THREE.Mesh(p,y),d.add(l),l.position.y=7,function t(){var a,p;e.getDelta(),c.getWorldDirection(o),w=f.right-f.left,u=f.forward-f.back,r.x=o.x/2.5,r.z=o.z/2.5,n=0,1===u?1===w?n=-Math.PI/4:-1===w&&(n=Math.PI/4):-1===u?n=1===w?-Math.PI/4-Math.PI/2:-1===w?Math.PI/4+Math.PI/2:Math.PI:1===w?n=-Math.PI/2:-1===w&&(n=Math.PI/2),r.applyAxisAngle(new THREE.Vector3(0,1,0),n),(0!==u||0!==w)&&(c.position.x+=r.x,c.position.z+=r.z,l.position.x+=r.x,l.position.z+=r.z),h.target.copy(l.position),v=parseInt(g.GetX()),P=parseInt(g.GetY()),v>=75?(f.right=1,f.left=0):v<=-75?(f.right=0,f.left=1):(f.right=0,f.left=0),P>=75?(f.forward=1,f.back=0):P<=-75?(f.forward=0,f.back=1):(f.forward=0,f.back=0),(a=c.position.x,p=c.position.z,!(a<-76.21540612288777)&&!(a>203.17769907829856)&&!(p<-8.855059994891958)&&!(p>26.63528778585343)&&function(t,e){let i=.2560550315998711*(e- -8.791333228457304)-(t- -76.21540612288777)*35.42662101431073,n=278.53315190829625*(e-26.63528778585343)- -((t- -75.9593510912879)*.1040477859432336),o=.6038982612901975*(e-26.531239999910195)- -((t-202.57380081700836)*35.38629999480215),r=-279.39310520118636*(e- -8.855059994891958)-(t-203.17769907829856)*.06372676643465347;return i>=0&&n>=0&&o>=0&&r>=0||i<=0&&n<=0&&o<=0&&r<=0}(a,p))?(x=c.position.x,E=c.position.z,i.x=l.position.x,i.z=l.position.z):(c.position.x=x,c.position.z=E,l.position.x=i.x,l.position.z=i.z),h.update(),s.render(d,c),requestAnimationFrame(t)}()}}()})},3e3)});var g=new function(e,i,n){var o=void 0===(i=i||{}).title?"joystick":i.title,r=void 0===i.width?0:i.width,a=void 0===i.height?0:i.height,d=void 0===i.internalFillColor?"#00AA00":i.internalFillColor,s=void 0===i.internalLineWidth?2:i.internalLineWidth,c=void 0===i.internalStrokeColor?"#003300":i.internalStrokeColor,h=void 0===i.externalLineWidth?2:i.externalLineWidth,l=void 0===i.externalStrokeColor?"#008000":i.externalStrokeColor,f=void 0===i.autoReturnToCenter||i.autoReturnToCenter;n=n||function(t){};var u=document.getElementById(e);u.style.touchAction="none";var w=document.createElement("canvas");w.id=o,0===r&&(r=u.clientWidth),0===a&&(a=u.clientHeight),w.width=r,w.height=a,u.appendChild(w);var p=w.getContext("2d"),g=0,x=2*Math.PI,E=(w.width-(w.width/2+10))/2,v=E+5,P=E+30,k=w.width/2,m=w.height/2,y=w.width/10,C=-1*y,L=w.height/10,T=-1*L,R=k,b=m;function H(){p.beginPath(),p.arc(k,m,P,0,x,!1),p.lineWidth=h,p.strokeStyle=l,p.stroke()}function W(){p.beginPath(),R<E&&(R=v),R+E>w.width&&(R=w.width-v),b<E&&(b=v),b+E>w.height&&(b=w.height-v),p.arc(R,b,E,0,x,!1);var t=p.createRadialGradient(k,m,5,k,m,200);t.addColorStop(0,d),t.addColorStop(1,c),p.fillStyle=t,p.fill(),p.lineWidth=s,p.strokeStyle=c,p.stroke()}function z(){let t="",e=R-k,i=b-m;return i>=T&&i<=L&&(t="C"),i<T&&(t="N"),i>L&&(t="S"),e<C&&("C"===t?t="W":t+="W"),e>y&&("C"===t?t="E":t+="E"),t}"ontouchstart"in document.documentElement?(w.addEventListener("touchstart",function(t){g=1},!1),document.addEventListener("touchmove",function(e){1===g&&e.targetTouches[0].target===w&&(R=e.targetTouches[0].pageX,b=e.targetTouches[0].pageY,"BODY"===w.offsetParent.tagName.toUpperCase()?(R-=w.offsetLeft,b-=w.offsetTop):(R-=w.offsetParent.offsetLeft,b-=w.offsetParent.offsetTop),p.clearRect(0,0,w.width,w.height),H(),W(),t.xPosition=R,t.yPosition=b,t.x=((R-k)/v*100).toFixed(),t.y=(-((b-m)/v*100)).toFixed(),t.cardinalDirection=z(),n(t))},!1),document.addEventListener("touchend",function(e){g=0,f&&(R=k,b=m),p.clearRect(0,0,w.width,w.height),H(),W(),t.xPosition=R,t.yPosition=b,t.x=((R-k)/v*100).toFixed(),t.y=(-((b-m)/v*100)).toFixed(),t.cardinalDirection=z(),n(t)},!1)):(w.addEventListener("mousedown",function(t){g=1},!1),document.addEventListener("mousemove",function(e){1===g&&(R=e.pageX,b=e.pageY,"BODY"===w.offsetParent.tagName.toUpperCase()?(R-=w.offsetLeft,b-=w.offsetTop):(R-=w.offsetParent.offsetLeft,b-=w.offsetParent.offsetTop),p.clearRect(0,0,w.width,w.height),H(),W(),t.xPosition=R,t.yPosition=b,t.x=((R-k)/v*100).toFixed(),t.y=(-((b-m)/v*100)).toFixed(),t.cardinalDirection=z(),n(t))},!1),document.addEventListener("mouseup",function(e){g=0,f&&(R=k,b=m),p.clearRect(0,0,w.width,w.height),H(),W(),t.xPosition=R,t.yPosition=b,t.x=((R-k)/v*100).toFixed(),t.y=(-((b-m)/v*100)).toFixed(),t.cardinalDirection=z(),n(t)},!1)),H(),W(),this.GetWidth=function(){return w.width},this.GetHeight=function(){return w.height},this.GetPosX=function(){return R},this.GetPosY=function(){return b},this.GetX=function(){return((R-k)/v*100).toFixed()},this.GetY=function(){return(-((b-m)/v*100)).toFixed()},this.GetDir=function(){return z()}}("joyDiv",{title:"joystick",internalFillColor:"#00AA00",internalLineWidth:2,internalStrokeColor:"#003300",externalLineWidth:2,externalStrokeColor:"#008000",autoReturnToCenter:!0}),x=0,E=0,v=0,P=0;function k(t){switch(t.keyCode){case 87:f.forward=1;break;case 83:f.back=1;break;case 65:f.left=1;break;case 68:f.right=1}}function m(t){switch(t.keyCode){case 87:f.forward=0;break;case 83:f.back=0;break;case 65:f.left=0;break;case 68:f.right=0}}
//# sourceMappingURL=index.1a49ce9c.js.map
